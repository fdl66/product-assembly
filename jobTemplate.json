{
	"templates": [{
		"name": "begin",
		"jobPrefixes": [],
		"stages": [{
			"name": "Checkout product-assembly repo",
			"childTemplate": ""
		}, {
			"name": "Build product-base",
			"childTemplate": ""
		}, {
			"name": "Push product-base",
			"childTemplate": ""
		}, {
			"name": "Run all product pipelines",
			"childTemplate": "product-pipeline"
		}],
		"instanceTemplates": []
	}, {
		"name": "product-pipeline",
		"jobPrefixes": ["core-pipeline","resmgr-pipeline","ucspm-pipeline"],
		"stages": [{
			"name": "Build image",
			"childTemplate": ""
		}, {
			"name": "Test image",
			"childTemplate": ""
		}, {
			"name": "Push image",
			"childTemplate": ""
		}, {
			"name": "Compile service definitions and build RPM",
			"childTemplate": ""
		}, {
			"name": "Push RPM",
			"childTemplate": ""
		}, {
			"name": "Build Appliances",
			"childTemplate": "appliance-build"
		}],
		"instanceTemplates": []
	}, {
		"name": "appliance-build",
		"jobPrefixes": [],
		"stages": [{
			"name": "Clean and checkout",
			"childTemplate": ""
		}, {
			"name": "Build manifest",
			"childTemplate": ""
		}, {
			"name": "Archive manifest",
			"childTemplate": ""
		}, {
			"name": "Build master and delegate appliances",
			"childTemplate": "do-build-appliances"
		}, {
			"name": "Start QA Automation",
			"childTemplate": ""
		}],
		"instanceTemplates": [{
			"jobPrefix": "core appliance",
			"ignoreStages": [
				"Start QA Automation"],
			"parentJob": "core-pipeline"
		}, {
			"jobPrefix": "zsd appliance",
			"ignoreStages": [],
			"parentJob": "resmgr-pipeline"
		}, {
			"jobPrefix": "ucspm appliance",
			"ignoreStages": [],
			"parentJob": "ucspm-pipeline"
		}, {
			"jobPrefix": "poc appliance",
			"ignoreStages": [
				"Start QA Automation"],
			"parentJob": "resmgr-pipeline"
		}]
	}, {
		"name": "do-build-appliances",
		"jobPrefixes": [],
		"stages": [{
			"name": "Clean and checkout",
			"childTemplate": ""
		}, {
			"name": "Download manifest",
			"childTemplate": ""
		}, {
			"name": "OVA",
			"childTemplate": ""
		}, {
			"name": "Upload OVA",
			"childTemplate": ""
		}, {
			"name": "ISO",
			"childTemplate": ""
		}, {
			"name": "Upload ISO",
			"childTemplate": ""
		}, {
			"name": "Upgrade ISO",
			"childTemplate": ""
		}, {
			"name": "Upload Upgrade ISO",
			"childTemplate": ""
		}, {
			"name": "AMIs",
			"childTemplate": ""
		}, {
			"name": "Upload ami",
			"childTemplate": ""
		}, {
			"name": "QEMU/QCOWs",
			"childTemplate": ""
		}, {
			"name": "Upload QEMU/QCOWs",
			"childTemplate": ""
		}],
		"instanceTemplates": [{
			"jobPrefix": "core appliance",
			"ignoreStages": [
				"Upgrade ISO",
				"Upload Upgrade ISO",
				"AMIs",
				"Upload ami",
				"QEMU/QCOWs",
				"Upload QEMU/QCOWs"
			],
			"parentJob": "appliance-build"
		}, {
			"jobPrefix": "poc appliance",
			"ignoreStages": [
				"ISO",
				"Upload ISO",
				"Upgrade ISO",
				"Upload Upgrade ISO",
				"AMIs",
				"Upload ami",
				"QEMU/QCOWs",
				"Upload QEMU/QCOWs"
			],
			"parentJob": "appliance-build"
		}, {
			"jobPrefix": "ucspm appliance",
			"ignoreStages": [
				"AMIs",
				"Upload ami",
				"QEMU/QCOWs",
				"Upload QEMU/QCOWs"
			],
			"parentJob": "appliance-build"
		}]
	}]
}
